<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8" />
<title>Interactive 4x4 Table</title>
<style>
  body { font-family: Arial, sans-serif; background: #f4f4f4; padding: 20px; }
  table { border-collapse: collapse; margin:auto; background:white; }
  td { border: 2px solid #555; width:80px; height:80px; text-align:center; }
  select { font-size:22px; width:100%; height:100%; border:none; text-align:center; }
  /* helper classes kept for possible future use */
  .outline-green { outline: 3px solid green; }
  .outline-red { outline: 3px solid red; }
</style>
</head>
<body>
<h2 style="text-align:center;">Interactive 4Ã—4 Table</h2>
<p style="text-align:center;">Set each cell to 1, 2, 3, or 4. Click <strong>Cek Jawaban</strong> to mark outlines.</p>

<div style="text-align:center; margin-bottom:15px;">
  <button id="checkBtn" style="padding:10px 20px; font-size:18px;">Cek Jawaban</button>
  <button id="resetBtn" style="padding:10px 12px; font-size:14px; margin-left:8px;">Reset</button>
</div>

<table>
  <tbody>
    <!-- row 1 -->
    <tr>
      <td><select data-row="1" data-col="1"><option value=""></option><option>1</option><option>2</option><option>3</option><option>4</option></select></td>
      <td><select data-row="1" data-col="2"><option value=""></option><option>1</option><option>2</option><option>3</option><option>4</option></select></td>
      <td><select data-row="1" data-col="3"><option value=""></option><option>1</option><option>2</option><option>3</option><option>4</option></select></td>
      <td><select data-row="1" data-col="4"><option value=""></option><option>1</option><option>2</option><option>3</option><option>4</option></select></td>
    </tr>
    <!-- row 2 -->
    <tr>
      <td><select data-row="2" data-col="1"><option value=""></option><option>1</option><option>2</option><option>3</option><option>4</option></select></td>
      <td><select data-row="2" data-col="2"><option value=""></option><option>1</option><option>2</option><option>3</option><option>4</option></select></td>
      <td><select data-row="2" data-col="3"><option value=""></option><option>1</option><option>2</option><option>3</option><option>4</option></select></td>
      <td><select data-row="2" data-col="4"><option value=""></option><option>1</option><option>2</option><option>3</option><option>4</option></select></td>
    </tr>
    <!-- row 3 -->
    <tr>
      <td><select data-row="3" data-col="1"><option value=""></option><option>1</option><option>2</option><option>3</option><option>4</option></select></td>
      <td><select data-row="3" data-col="2"><option value=""></option><option>1</option><option>2</option><option>3</option><option>4</option></select></td>
      <td><select data-row="3" data-col="3"><option value=""></option><option>1</option><option>2</option><option>3</option><option>4</option></select></td>
      <td><select data-row="3" data-col="4"><option value=""></option><option>1</option><option>2</option><option>3</option><option>4</option></select></td>
    </tr>
    <!-- row 4 -->
    <tr>
      <td><select data-row="4" data-col="1"><option value=""></option><option>1</option><option>2</option><option>3</option><option>4</option></select></td>
      <td><select data-row="4" data-col="2"><option value=""></option><option>1</option><option>2</option><option>3</option><option>4</option></select></td>
      <td><select data-row="4" data-col="3"><option value=""></option><option>1</option><option>2</option><option>3</option><option>4</option></select></td>
      <td><select data-row="4" data-col="4"><option value=""></option><option>1</option><option>2</option><option>3</option><option>4</option></select></td>
    </tr>
  </tbody>
</table>

<script>
(function() {
  const selects = Array.from(document.querySelectorAll('select'));
  const checkBtn = document.getElementById('checkBtn');
  const resetBtn = document.getElementById('resetBtn');

  function clearOutlines() {
    selects.forEach(s => {
      s.classList.remove('outline-green');
      s.classList.remove('outline-red');
      s.style.outline = 'none';
    });
  }

  function applyOutline(el, color) {
    el.style.outline = color === 'green' ? '3px solid green' : '3px solid red';
  }

  // Special rules map: key = "row,col" -> required value (string)
  const specialRules = {
    '1,1': '4',
    '1,3': '1',
    '4,1': '1',
    '4,3': '4'
  };

  checkBtn.addEventListener('click', () => {
    clearOutlines();

    selects.forEach(sel => {
      const row = sel.dataset.row; // string
      const col = sel.dataset.col; // string
      const key = row + ',' + col;
      const val = sel.value; // "" if empty

      if (specialRules.hasOwnProperty(key)) {
        const required = specialRules[key];
        if (val === '') {
          // empty -> no outline
          sel.style.outline = 'none';
        } else if (val === required) {
          applyOutline(sel, 'green');
        } else {
          applyOutline(sel, 'red');
        }
      } else {
        // non-special cells: red if filled, none if empty
        if (val !== '') applyOutline(sel, 'red');
        else sel.style.outline = 'none';
      }
    });
  });

  // Reset button clears selections and outlines
  resetBtn.addEventListener('click', () => {
    selects.forEach(s => s.value = '');
    clearOutlines();
  });

  // Accessibility: Enter on a select triggers check
  selects.forEach(sel => {
    sel.addEventListener('keydown', (e) => {
      if (e.key === 'Enter') {
        e.preventDefault();
        checkBtn.click();
      }
    });
  });
})();
</script>

</body>
</html>
